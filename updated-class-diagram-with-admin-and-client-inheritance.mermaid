classDiagram
    class User {
        <<abstract>>
        -Long id
        -String username
        -String email
        -String password
        +commentOnProduct(Product product, String comment) void
    }

    class Admin {
        +manageProducts() void
        +manageUsers() void
        +viewReports() void
    }

    class Client {
        +placeOrder(Order order) void
        +viewOrderHistory() List~Order~
        +requestRepair(RepairTicket ticket) void
    }

    class Product {
        <<abstract>>
        -Long id
        -String name
        -String description
        -BigDecimal price
        -int stock
        +updateStock(int quantity) void
        +updatePrice(BigDecimal newPrice) void
        +getAverageRating() double
    }

    class Vinyl {
        -Long discogsId
        -Long instanceId
        -Date dateAdded
        -String title
        -int year
        -List~String~ formats
        -List~String~ genres
        -List~String~ styles
        -String thumbImageUrl
        -String coverImageUrl
        +getDiscogsInfo() Map
    }

    class MusicEquipment {
        -String brand
        -String model
        -String type
    }

    class Antique {
        -int year
        -String category
    }

    class Order {
        -Long id
        -Date orderDate
        -String status
        -BigDecimal totalAmount
        -PaymentType paymentType
        +addItem(OrderItem item) void
        +removeItem(OrderItem item) void
        +calculateTotal() BigDecimal
    }

    class OrderItem {
        -Long id
        -int quantity
        -BigDecimal price
        +calculateSubtotal() BigDecimal
    }

    class Payment {
        -Long id
        -BigDecimal amount
        -Date paymentDate
        -PaymentType type
        -String transactionId
    }

    class PaymentType {
        <<enumeration>>
        HAND_BY_HAND
        CMI
    }

    class Shipping {
        -Long id
        -String address
        -String city
        -String postalCode
        -String country
        -ShippingStatus status
    }

    class ShippingStatus {
        <<enumeration>>
        PENDING
        SHIPPED
        DELIVERED
    }

    class Review {
        -Long id
        -int rating
        -Date reviewDate
    }

    class Comment {
        -Long id
        -String content
        -Date commentDate
    }

    class RepairTicket {
        -Long id
        -Date createdDate
        -String status
        -String description
        +updateStatus(String newStatus) void
    }

    User <|-- Admin
    User <|-- Client
    Client "1" -- "*" Order : places
    Client "1" -- "*" RepairTicket : requests
    Client "1" -- "*" Review : writes
    User "1" -- "*" Comment : writes
    Order "1" *-- "*" OrderItem : contains
    Order "1" -- "1" Payment : has
    Order "1" -- "1" Shipping : has
    OrderItem "1" -- "1" Product : references
    Product <|-- Vinyl
    Product <|-- MusicEquipment
    Product <|-- Antique
    Product "1" -- "*" Review : receives
    Product "1" -- "*" Comment : receives
    RepairTicket "1" -- "1" MusicEquipment : for